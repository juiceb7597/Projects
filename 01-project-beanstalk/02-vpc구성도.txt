#vpc 구성도

vpc 생성
이름     cidr
'jp-vpc' 10.0.0.0/16

subnet 생성('jp-vpc')
이름                    cidr         region
'public-1a-elb'         10.0.10.0/24  ap-northeast-1a
'public-1c-elb'         10.0.20.0/24  ap-northeast-1c
'private-1a-instance'   10.0.30.0/24  ap-northeast-1a
'private-1c-instance'   10.0.40.0/24  ap-northeast-1c
'private-1a-database'   10.0.50.0/24  ap-northeast-1a
'private-1c-database'   10.0.60.0/24  ap-northeast-1c

igw 생성 
이름       vpc
'jp-igw' 'jp-vpc'에 연결

nat 생성
이름            서브넷
'nat-1a-gw'  'public-1a-elb'에 연결 , EIP할당
'nat-1c-gw'  'public-1c-elb'에 연결 , EIP할당

라우팅 테이블 생성
이름                     대상        cidr
'jp-public-routes'       'local'     10.0.0.0/16
                         'jp-igw'    0.0.0.0/0
'jp-private-1a-routes'   'local'     10.0.0.0/16
                         'nat-1a-gw' 0.0.0.0/0
'jp-private-1c-routes'   'local'     10.0.0.0/16
                         'nat-1c-gw' 0.0.0.0/0

라우팅 테이블 서브넷 할당
이름                     대상    
'jp-public-routes'       'public-1a-elb' 
                         'public-1c-elb'
'jp-private-1a-routes'   'private-1a-instance'
                         'private-1a-database'
'jp-private-1c-routes'   'private-1c-instance'     
                         'private-1c-database'